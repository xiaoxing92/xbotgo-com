{%- unless video_assets_output -%}
  <link rel="stylesheet" href="{{ 'video.css' | asset_url }}" {%- render 'lazy-stylesheet-attrs' %}>
  <script src="{{ 'video.js' | asset_url }}" defer></script>
{%- endunless -%}

{%- liquid
  assign video_assets_output = true

  assign top_using_video_tag = false
  if section.settings.top_video_shopify != blank
    assign top_using_video_tag = true
  endif

  if section.settings.top_placeholder_image
    assign top_placeholder_image = section.settings.top_placeholder_image
  elsif section.settings.top_video_shopify
    assign top_placeholder_image = section.settings.top_video_shopify.preview_image
  else
    assign top_placeholder_image = nil
  endif


  assign bot_using_video_tag = false
  if section.settings.bot_video_shopify != blank
    assign bot_using_video_tag = trueã€€
  endif

  if section.settings.bot_placeholder_image
    assign bot_placeholder_image = section.settings.bot_placeholder_image
  elsif section.settings.bot_video_shopify
    assign bot_placeholder_image = section.settings.bot_video_shopify.preview_image
  else
    assign bot_placeholder_image = nil
  endif


  assign autoplay = section.settings.top_autoplay
  assign botAutoplay = section.settings.bot_autoplay


-%}

<div class="key-player-tracking">
  <div class="row">
    <div class="col-top">
      <div class="top-video-box">
          <div class="height--adapt image-overlay image-overlay--bg-no_background" {% if top_placeholder_image %}style="--aspect-ratio: {{ top_placeholder_image.aspect_ratio }}"{% endif %} {%- render 'animation-attrs', attrs: 'data-cc-animate' -%}>
            <div class="image-overlay__image height__image">
              <deferred-media>
                {%- if autoplay == false -%}<button type="button" class="js-load-media hidden" aria-hidden="true"></button>{%- endif -%}
                <template>
                  <video-component class="{% if top_using_video_tag %}has-video{% else %}has-iframe{% endif %}"
                    {%- unless top_using_video_tag %} data-video-url="{{ section.settings.top_video_external | escape }}"{% endunless %}
                                  data-video-id="{{ section.id }}"
                                  data-autoplay="{{ autoplay }}"
                                  data-background="false"
                                  data-description="{{ section.settings.top_video_description | escape }}">
                    {%- if top_using_video_tag -%}
                      {{ section.settings.top_video_shopify | video_tag: playsinline: true, controls: true, autoplay: autoplay, muted: autoplay, loop: autoplay, poster: '' | replace: '<img ', '<img loading="lazy" hidden ' }}
                    {%- else -%}
                      <div></div>
                    {%- endif -%}
                  </video-component>
                </template>
              </deferred-media>

              {% if top_placeholder_image %}
                {%- render 'image' with top_placeholder_image , class: 'video-played-hidden' -%}
              {% elsif autoplay == false %}
                <div class="placeholder-image video-played-hidden">{{- 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' -}}</div>
              {% endif %}
            </div>

            {%- if autoplay == false -%}
              <div class="text-overlay text-overlay--for-banner text-overlay--v-center text-overlay--h-center image-overlay__over video-played-hidden">
                <div class="text-overlay__inner">
                  <div class="text-overlay__text">
                    <video-section-play-button role="button" tabindex="0" type="button" class="button-row__btn video-section__play-btn inline-block">
                      <span class="visually-hidden">{{ 'general.icon_labels.play' | t }}</span>
                      {%- render 'icon-play' -%}
                    </video-section-play-button>
                  </div>
                </div>
              </div>
            {%- endif -%}
          </div>
      </div>

      <div class="top-content-box">
        <h3 class="top-content-title">{{ section.settings.top_left_title }}</h3>
        <p class="word-wrap">{{ section.settings.top_description }}</p>
      </div>

    </div>
    <div class="col-bot">

        <div class="grid-left">
          <img src="{{ section.settings.bot_left_image | img_url: 'large' }}" alt="Image 2">
          <div class="bot-description">{{ section.settings.bot_description }}</div>
        </div>

        <div class="grid-mid">
          <div class="height--adapt image-overlay image-overlay--bg-no_background" {% if bot_placeholder_image %}style="--aspect-ratio: {{ bot_placeholder_image.aspect_ratio }}"{% endif %} {%- render 'animation-attrs', attrs: 'data-cc-animate' -%}>
            <div class="image-overlay__image height__image">
              <deferred-media>
                {%- if botAutoplay == false -%}<button type="button" class="js-load-media hidden" aria-hidden="true"></button>{%- endif -%}
                <template>
                  <video-component class="{% if bot_using_video_tag %}has-video{% else %}has-iframe{% endif %}"
                    {%- unless bot_using_video_tag %} data-video-url="{{ section.settings.bot_video_external | escape }}"{% endunless %}
                                  data-video-id="{{ section.id }}"
                                  data-autoplay="{{ botAutoplay }}"
                                  data-background="false"
                                  data-description="{{ section.settings.bot_video_description | escape }}">
                    {%- if bot_using_video_tag -%}
                      {{ section.settings.bot_video_shopify | video_tag: playsinline: true, controls: true, botAutoplay: botAutoplay, muted: botAutoplay, loop: botAutoplay, poster: '' | replace: '<img ', '<img loading="lazy" hidden ' }}
                    {%- else -%}
                      <div></div>
                    {%- endif -%}
                  </video-component>
                </template>
              </deferred-media>

              {% if bot_placeholder_image %}
                {%- render 'image' with bot_placeholder_image, class: 'video-played-hidden' -%}
              {% elsif botAutoplay == false %}
                <div class="placeholder-image video-played-hidden">{{- 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' -}}</div>
              {% endif %}
            </div>

            {%- if botAutoplay == false -%}
              <div class="text-overlay text-overlay--for-banner text-overlay--v-center text-overlay--h-center image-overlay__over video-played-hidden">
                <div class="text-overlay__inner">
                  <div class="text-overlay__text">
                    <video-section-play-button role="button" tabindex="0" type="button" class="button-row__btn video-section__play-btn inline-block">
                      <span class="visually-hidden">{{ 'general.icon_labels.play' | t }}</span>
                      {%- render 'icon-play' -%}
                    </video-section-play-button>
                  </div>
                </div>
              </div>
            {%- endif -%}
          </div>

        </div>
        <div class="grid-right">
          <h3 class="top-content-title">{{ section.settings.bot_right_title }}</h3>
          <p class="word-wrap">{{ section.settings.bot_right_description }}</p>
        </div>  
    </div>
  </div>
</div>

<style>
  .key-player-tracking {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
  }
  .height--adapt{
    width:100%;
    height:100%;
  }
  .row {
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 1200px;
  }
  .col-top{
    flex: 1;
    display:flex;
    justify-content:space-between;
  }
  .col-bot {
    display:flex;
    justify-content: space-between;
    margin-top: 5px;
  }
  .top-video-box{
    width:40%;
    height:530px;
    border-radius:20px;
    overflow: hidden;
  
  }
  .top-content-box{
    width: 60%;
    height: 530px;
    padding:32px;
    background: #EDEDED;
    border-radius: 20px 20px 20px 20px;
  }
  .top-content-title{
    margin-top:55px;
  }
  .grid-left{
    width: 15;
    height: 216px;
    margin-right:14px;
    border-radius: 20px 20px 20px 20px;
  }
  .bot-description{
    font-weight: 600;
    font-size: 40px;
    color: #030301;
  }
  .grid-mid{
    flex:1;
    height: 530px;
    border-radius: 20px 20px 20px 20px;
    overflow: hidden;
  }
  .grid-right{
    width: 20%;
    height: 530px;
    padding:33px;
    border-radius: 20px 20px 20px 20px;
    margin-left:14px;
    background: #EDEDED;
  }
  .word-wrap{
    word-wrap: break-word; 
  }
  .top-content-title{
    margin-top:39px
  }
  h3 {
    font-size: 18px;
    font-weight: bold;
  }
  p {
    font-size: 14px;
  }
  </style>

  

{% schema %}
{
  "name": "Key Player Tracking",
  "settings": [
    {
      "id": "top_video_shopify",
      "type": "video",
      "label": "Top Video upload",
      "info": ".."
    },
    {
      "id": "top_video_external",
      "type": "text",
      "label": "Top External video",
      "info": "Supports YouTube and Vimeo",
      "default": "https://www.youtube.com/watch?v=_9VUPq3SxOc"
    },
    {
      "id": "top_video_description",
      "type": "text",
      "label": "Top Video description",
      "info": "Describe the video for customers using screen readers. [Learn more](https://help.shopify.com/manual/online-store/themes/theme-structure/theme-features#video-block)"
    },
    {
      "id": "top_autoplay",
      "type": "checkbox",
      "label": "TopAutoplay",
      "info": "Video will be muted",
      "default": false
    },
    {
      "id": "top_placeholder_image",
      "type": "image_picker",
      "label": "Top Custom placeholder image",
      "info": "Required for External videos. Choose an image the same shape as your video."
    },
    {
      "id": "top_left_title",
      "type": "text",
      "label": "Tot LeftTitle",
      "default": "Gesture Recognize"
    },
    {
      "id": "top_description",
      "type": "textarea",
      "label": "Top Description",
      "default": "xxx"
    },
    {
      "id": "bot_left_image",
      "type": "image_picker",
      "label": "Bot Left Image"
    },
    {
      "id": "bot_description",
      "type": "text",
      "label": "Bot Description",
      "default": "Bot Description"
    },
    {
      "id": "bot_video_shopify",
      "type": "video",
      "label": "Bot Video upload",
      "info": "Hosted by Shopify. Replaces External video if both are set."
    },
    {
      "id": "bot_video_external",
      "type": "text",
      "label": "Bot External video",
      "info": "Supports YouTube and Vimeo",
      "default": "https://www.youtube.com/watch?v=_9VUPq3SxOc"
    },
    {
      "id": "bot_video_description",
      "type": "text",
      "label": "Bot Video description",
      "info": "Describe the video for customers using screen readers. [Learn more](https://help.shopify.com/manual/online-store/themes/theme-structure/theme-features#video-block)"
    },
    {
      "id": "bot_autoplay",
      "type": "checkbox",
      "label": "Bot Autoplay",
      "info": "Video will be muted",
      "default": false
    },
    {
      "id": "bot_placeholder_image",
      "type": "image_picker",
      "label": "Bot Custom placeholder image",
      "info": "Required for External videos. Choose an image the same shape as your video."
    },
    {
      "id": "bot_right_title",
      "type": "text",
      "label": "Bot Right Title",
      "default": "Jersey number recognition"
    },
    {
      "id": "bot_right_description",
      "type": "textarea",
      "label": "Bot Right Description",
      "default": "Jersey number recognition"
      
    }
  ],
  "blocks": [
  ],
  "presets": [
    {
        "name": "Key Player Tracking",
        "category": "Custom"
      }
  ]
}
{% endschema %}