<style>
    .header-nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: absolute;
        width: 100%;
        height: 50px;
        padding: 0 20px;
        background-color: white;
        border-bottom: 1px solid #eaeaea;
    }

    .logo {
        display: flex;
        align-items: center;
    }

    .logo img {
        height: 40px;
    }

    .nav-menu {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
    }

    .nav-menu li {
        margin: 0 15px;
    }

    .nav-menu a {
        display: block;
        text-decoration: none;
        color: black;
        font-weight: bold;
        padding: 5px;
        height: 100%;
        position: relative
    }
 
    .nav-menu a::before{
        content: '';
        width:0%;
        height: 2px;
        background: linear-gradient(to right, #f27b00, #ca251d);
        position: absolute;
        left: 0;
        bottom: 0;
        display: block;
        transition: width 0.3s ease, left 0.3s ease;
    }
    .nav-menu a:hover::before {
        width: 100%;
        left: 0;
    }
    .dropdown {
        display: flex;
        width: 100%;
        position: absolute;
        visibility: hidden;
        top: 50px;
        left: 0;
        background: white;
        border: 1px solid #eaeaea;
        transition: opacity 175ms ease-in, visibility 175ms;
        opacity: 0;
        z-index: 10;
        padding-top:20px;
        padding-bottom: 20px;
        padding-left: 27%;
    }

    .dropdown a {
        display: block;
        padding: 10px 15px;
        white-space: nowrap;
        color: #000;
    }

    .dropdown a:hover {
        background-color: #f9f9f9;
    }


    .nav-item:hover .dropdown {
        visibility: visible;
        opacity: 1;
    }

    .child-item{
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 120px;
        height: 120px;
        background-color: #eee;
        border-radius: 10px;
        margin-right: 10px;
    }
    .icons {
        display: flex;
        align-items: center;
    }

    .icons img {
        width: 20px;
        height: 20px;
        margin: 0 10px;
        cursor: pointer;
    }
    
</style>

<div class="header-nav">
  <!-- 左侧 Logo -->
  <div class="logo">
      <img src="logo-placeholder.png" alt="Logo" />
  </div>

  <!-- 中间导航菜单 -->
  <ul class="nav-menu">
    {%- for block in section.blocks -%}
      <li class="nav-item">
        <a href="#">{{block.settings.nav_title}}</a>
        {% assign collection = collections[block.settings.collection] %}
          {% if collection.products.size > 0 %}
            <div class="dropdown">
              {% for product in collection.products %}
                <div class="child-item">
                  <img src="" alt="图片"/>
                  <p>{{ product.title }}</p>
                </div>
              {% endfor %}
            </div>
          {% else %}
            <div></div>
          {% endif %}
    </li>
    {%- endfor -%}
  </ul>

  <!-- 右侧图标 -->
  <div class="logo-area__right">
    <div class="logo-area__right__inner">
      {% if shop.customer_accounts_enabled %}
        {% if customer %}
          <a
            class="header-account-link"
            href="{{ routes.account_url }}"
            aria-label="{{ 'sections.header.account' | t | escape }}"
          >
            <span class="header-account-link__text {% if section.settings.icon_strategy == 'icons_only' %}visually-hidden{% else %}visually-hidden-mobile{% endif %}">
              {{- 'sections.header.account' | t -}}
            </span>
            <span class="header-account-link__icon{% if section.settings.icon_strategy == 'icons_cart_search' %} mobile-only{% endif %}">
              {%- render 'icon-user' -%}
            </span>
          </a>
        {% else %}
          <a
            class="header-account-link"
            href="{{ routes.account_login_url }}"
            aria-label="{{ 'sections.header.account' | t | escape }}"
          >
            <span class="header-account-link__text {% if section.settings.icon_strategy == 'icons_only' %}visually-hidden{% else %}visually-hidden-mobile{% endif %}">
              {{- 'sections.header.account' | t -}}
            </span>
            <span class="header-account-link__icon{% if section.settings.icon_strategy == 'icons_cart_search' %} mobile-only{% endif %}">
              {%- render 'icon-user' -%}
            </span>
          </a>
        {% endif %}
      {% endif %}
      {% if section.settings.enable_search %}
        <a class="show-search-link" href="{{ routes.search_url }}">
          <span class="show-search-link__text {% if section.settings.icon_strategy == 'icons_only' %}visually-hidden{% else %}visually-hidden-mobile{% endif %}">
            {{- 'sections.header.search' | t -}}
          </span>
          <span class="show-search-link__icon">
            {%- render 'icon-search' -%}
          </span>
        </a>
      {% endif %}
      {%- liquid
        assign cart_hash = ''
        for item in cart.items
          assign cart_hash = cart_hash | append: ',' | append: item.key | append: '|' | append: item.quantity
        endfor
        assign cart_hash = cart_hash | remove_first: ',' | sha256
      -%}
      <a href="{{ routes.cart_url }}" class="cart-link" data-hash="{{ cart_hash }}">
        <span class="cart-link__label {% if section.settings.icon_strategy == 'icons_only' %}visually-hidden{% else %}visually-hidden-mobile{% endif %}">
          {{- 'sections.header.cart' | t | escape -}}
        </span>
        <span class="cart-link__icon">
          {%- liquid
            if section.settings.cart_icon == 'basket'
              render 'icon-basket'
            elsif section.settings.cart_icon == 'bag'
              render 'icon-bag'
            else
              render 'icon-cart'
            endif
          -%}
          <span class="cart-link__count">
            {%- if cart.item_count > 0 -%}
              {{- cart.item_count -}}
            {%- endif -%}
          </span>
        </span>
      </a>
    </div>
  </div>
</div>




{% schema %}
{
  "name": "Header New",
  "class": "section-header",
  "settings": [
    {
      "type": "header",
      "content": "Search"
    },
    {
      "type": "checkbox",
      "id": "enable_search",
      "label": "Enable search",
      "default": true
    },
    {
      "type": "text",
      "id": "search_recommendations_title",
      "label": "Recommendations title",
      "info": "Recommendations show when the search is opened."
    },
    {
      "type": "link_list",
      "id": "search_recommendations_menu",
      "label": "Recommendations menu",
      "info": "Dropdown menus will show as separate rows. Links to collections and products will show images."
    },
    {
      "type": "header",
      "content": "Icons"
    },
    {
      "type": "select",
      "id": "icon_strategy",
      "label": "Show icons",
      "info": "Only icons show on mobile",
      "options": [
        {
          "value": "icons_cart_search",
          "label": "On cart and search"
        },
        {
          "value": "icons_all",
          "label": "On all links"
        },
        {
          "value": "icons_only",
          "label": "Only icons, no text"
        }
      ],
      "default": "icons_cart_search"
    },
    {
      "type": "select",
      "id": "cart_icon",
      "label": "Cart icon",
      "options": [
        {
          "value": "bag",
          "label": "Bag"
        },
        {
          "value": "basket",
          "label": "Basket"
        },
        {
          "value": "cart",
          "label": "Cart"
        }
      ],
      "default": "basket"
    }
  ],
  "blocks": [
    {
      "type": "nav_block",
      "name": "Nav Item",
      "settings": [
        {
          "type": "text",
          "id": "nav_title",
          "label": "NavTitle",
          "default": "NavTitle"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link URL"
        },
        {
          "type": "collection",
          "id": "collection",
          "label": "Collection"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Header New",
      "settings": {}
    }
  ]
}
{% endschema %}
